<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <!--    <link rel="stylesheet" href="/css/login.css">-->
    <title>상품 업로드 페이지</title>
    <style>
        .product{
            margin : 10px 0px 10px 0px;
            display:flex;
        }
        .label{
            width:140px;
        }
        .product_content{
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
<header th:include="header"></header>
<div class="w-50 m-auto py-5 my-2 ">
    <h2 class="fw-bold text-center py-2 my-2">상품 업로드 페이지</h2>
    <form action="/admin/uploadProduct" method="post" enctype="multipart/form-data" onsubmit="convertNewlineToBr()">
        <div class="product"><div class="label">상품명</div> <input type="text" name="product_name"/></div>
        <div class="product"><div class="label">한 줄 설명</div> <input type="text" name="product_info"/></div>
        <div class="product"><div class="label">상품원가  </div><input type="number" name="product_oprice"/></div>
        <div class="product"><div class="label">상품판매가  </div><input type="number" name="product_sprice"/></div>
        <div class="product"><div class="label">배송비 </div> <input type="text" name="product_deliveryfee"></div>
        <div class="product"><div class="label">상품수량  </div><input type="number" name="product_cnt"/></div>
        <div class="product"><div class="label">상품 대표 이미지 </div> <input type="file" name="product_imgfile"></div>
        <div class="product"><div class="label">상품 설명 </div>    <textarea name="product_content" class="w-75"  rows="5"></textarea></div>
        <div class="product"><div class="label">상품 설명 이미지 </div> <input type="file" name="product_images" multiple></div>
        <div class="product"><div class="label">카테고리</div>
            <select name="category_num">
                <option value="1">목줄</option>
                <option value="2">하네스</option>
                <option value="3">액세서리</option>
                <option value="4">장난감</option>
                <option value="5">사료</option>
                <option value="6">간식</option>
                <option value="7">올인원</option>
                <option value="8">티셔츠</option>
                <option value="9">아우터</option>
                <option value="10">가방</option>
                <option value="11">베스트</option>
                <option value="12">신상품</option>
            </select>
        </div>
        <button type="submit" class="btn btn-outline-secondary float-end my-3 mx-5">업로드</button>
    </form>

</div>
</body>
<footer th:include="footer"></footer>
<script>
    function convertNewlineToBr() {
        var content = document.getElementById("product_content").value; // 텍스트 에어리어에서 입력된 내용 가져오기
        var convertedContent = content.replace(/\n/g, "<br>"); // \n을 <br>로 변환하기

        document.getElementById("product_content").value = convertedContent; // 변환된 내용을 다시 텍스트 에어리어에 설정하기
    }
</script>
</html>